<app-menu>
  <h2>Estado de mis trámites</h2>
  <mat-tab-group>
    <mat-tab *ngFor="let tab of tipos; let index = index;" [label]="tab.nombretipotramite">
      <mat-horizontal-stepper [linear]="false" #stepper>
        <mat-step *ngFor="let step of tab.estadostramites; let index = index;">
          <ng-template matStepLabel><span (click)="changestep(step.tramites)">{{step.nombre}}</span></ng-template>
          <h4>{{step.nombre}}</h4>
          <table mat-table [dataSource]="tramites" matSort class="mat-elevation-z8">
            <ng-container matColumnDef="nombres">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                Nombres Estudiante
              </th>
              <td mat-cell *matCellDef="let element">{{ element.nombres }}</td>
            </ng-container>

            <ng-container matColumnDef="apellidos">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                Apellidos Estudiante
              </th>
              <td mat-cell *matCellDef="let element">
                {{ element.apellidos }}
              </td>
            </ng-container>

            <ng-container matColumnDef="codigo">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                Código Estudiante
              </th>
              <td mat-cell *matCellDef="let element">{{ element.codigo }}</td>
            </ng-container>

            <ng-container matColumnDef="fecha">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                Fecha Trámite
              </th>
              <td mat-cell *matCellDef="let element">{{ element.fecha }}</td>
            </ng-container>

            <ng-container matColumnDef="observacion">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                Observación Trámite
              </th>
              <td mat-cell *matCellDef="let element">
                {{ element.observacion }}
              </td>
            </ng-container>

            <ng-container matColumnDef="resumen">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                Resumen Trámite
              </th>
              <td mat-cell *matCellDef="let element">
                <button (click)="dialogResumenTramite(element)" mat-stroked-button color="primary">
                  Resumen
                </button>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <ng-template let-row matRowDef cdkVirtualFor [matRowDefColumns]="displayedColumns">
              <tr mat-row></tr>
            </ng-template>
          </table>
          <div>
            <button mat-button matStepperPrevious>Atras</button>
            <button mat-button (click)="stepper.reset()">Resetear</button>
          </div>
        </mat-step>
      </mat-horizontal-stepper>
    </mat-tab>
  </mat-tab-group>
</app-menu>
